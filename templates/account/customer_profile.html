{% extends 'base.html' %}
{% load i18n %}
{% load static %}

{% block content %}

<div class="container mt-5">
    <h2 class="mb-4" style="color: var(--color-black-dark); font-weight: 600;">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ§Ø¬Ø±</h2>

    <div class="mb-4">
        <p>Ù…Ø±Ø­Ø¨Ù‹Ø§ <strong>{{ request.user.username }}</strong>! Ø£Ù†Øª Ù…Ø³Ø¬Ù„ ÙƒØªØ§Ø¬Ø±.</p>
        <p>Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ: <strong>{{ request.user.tax_number }}</strong></p>
        <a href="/" class="btn-main fs-small px-3 py-2 mt-2">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    </div>

    <div class="row">
        {% for item in purchased_products %}
            <div class="col-md-6 col-lg-4 mb-4">
                <div class="card shadow-sm border-0" style="border-radius: 12px; background-color: var(--color-grey-lighter);">
                    <a href="{{ item.product.get_absolute_url }}">
                        <img src="{{ item.product.image_1.url }}" class="card-img-top rounded-top" alt="{{ item.product.name }}" style="height: 200px; object-fit: cover;">
                    </a>
                    <div class="card-body">
                        <h5 class="card-title" style="font-weight: 600;">{{ item.product.name }}</h5>
                        <p class="text-muted fs-small mb-1">ðŸ”¸ <strong>{% trans 'quantity' %}:</strong> {{ item.quantity }}</p>
                        <p class="text-muted fs-small mb-1">ðŸ’µ <strong>{% trans 'Total price' %}</strong> ${{ item.get_cost }}</p>
                        <hr>
                        <p class="text-muted fs-small mb-1">ðŸ‘¤ <strong>{% trans 'Customer' %}:</strong> {{ item.order.first_name }} {{ item.order.last_name }}</p>
                        <p class="text-muted fs-small mb-1">ðŸ“§ <strong>{% trans 'E-mail' %}:</strong> {{ item.order.email }}</p>
                        <p class="text-muted fs-small">ðŸ“± <strong>{% trans 'Phone' %}:</strong> {{ item.order.phone }}</p>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="col-12">
                <div class="alert alert-info text-center">Ù„Ù… ØªÙ‚Ù… Ø¨Ø´Ø±Ø§Ø¡ Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯.</div>
            </div>
        {% endfor %}
    </div>
</div>

{% endblock content %}